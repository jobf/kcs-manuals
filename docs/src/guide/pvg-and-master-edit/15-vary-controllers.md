# Chapter 15 - Vary Controllers

[[toc]]

Unlike Add Controllers presets, which introduce new controller data into a sequence, presets of the Vary Controllers type are used to make random or deterministic changes in controller data that is already present in a sequence.

The two types of presets can, of course, be used in complementary ways in a macro. Either or both of two types of operations can be carried out in a Vary Controllers preset

 - Global operations, which affect all of the controller events within a sequence that are of the specified type
 - Single controller operations, which operate on individual controller events.

To specify which controller events you would like to vary with the preset, enter a MIDI channel and a controller number (0 through 127, -1 for after-touch, or -2 for pitch-bends) in the data fields at the top of the screen.

Only controllers of the type and channel you have speclfied will be varied; the rest will be protected.

If no channel is specified, all channels will be processed. Values allowed for controllers are from 0 to 127, except for pitch-bends, which can go from -8192 to 8191.

If you enter a value outside the 0 to 127 range for a controller, the program will not correct you, but when the controller events are varied, they will be set to 0 or 127.

## Protection & Restrictions

Vary Controllers presets have their own simplified PROTECTION and RESTRICTIONS parameters. These are much like the ones found in the other types of presets.

Protection and restrictions will operate only if the 0. button beneath the section is highlighted.

### Protection

Used to specify events that are not to be varied by the preset. 

The First and last parameters indicate the number of events at the beginning and end of the sequence that are not to be varied; notes and other controllers than the ones being varied are counted in determining where protection is to be applied.

The Low and High parameters are used to indicate starting values for controllers (that is, values in the sequence prior to the creation of the variation) above and below which no changes are to be made. For example, if you enter a low value of 10 and a high value of 64, then controller events with values between 10 and 64 will not be varied by the preset.

Switching on the Reverse button causes protection to be applied backwards: Only events before the First and after the last, or those within the Low and High, will be protected.

### Restrictions

The Restrictions parameters interact only with the Single change procedures, not with the global ones.

The Low and High values define a range that can be created by the preset. If a change requested by the Single procedure would take the controller value outside the specified range, the change is not made.

## Global Processes

The parameters on the upper left quarter of the screen are used to make changes in all controllers (of the specified type and channel) within the sequence. The WGT (weight) and AMT (amount) designations operate exactly as in presets of the Vary Notes type.

A weight creates a likelihood or certainty that a change of the specified type will occur. The effect of the amount parameter depends on the operation being requested.

A Set operation will set all unprotected controllers to the value given by the amount parameter.

A Transpose operation will move the values of all controller events up or down by the specified amount.

An Invert operation will replace higher values with lower ones and vice-versa, around the unmoving center value specified by the amount parameter. To replace sharp pitch-bends with flat ones, for example, an invert weight of 1 (with 0 Changes per Vary) and an amount (center) of 0 should be entered. More unusual bends can be generated by selecting something other than 0 as the center point of the inversion.

A Scale operation causes the values of the controller events to be compressed or expanded by some factor. Here, the amount parameter is a percentage: An amount of 100 produces no change, an amount of 200 doubles all controller values, an amount of 50 cuts them in haff, and so on.

A weight on the Delete line will replace controller events of the selected type with DE (delete) events. Global operations are used for editing the controller data in a sequence) especially in conjunction with protection of High and Low range limits.

## Single Processes

Again, these work with controller values precisely the way Vary Notes presets work with pitches, durations, and so on.

Three slots are provided for Set, Change, Signed, Gaussian, and Scale operations, so that you can move values up or down by different amounts in a single variation. One controller event will be changed for each weight unit entered.

A Set operation causes the value of some controller event to be set to the value specified under AMT.

A Change operation causes the value of some controller event to be moved up or down by the amount given.

A Signed operation works just like a Change, except that a negative amount will always produce a downward change, and a positive amount an upward change.

A Gaussian operation produces a change whose size is unpredictable. The value entered under amount will be the approximate mean value of the changes created.

A Scale operation causes the value of some controller event to be multiplied by the percentage entered under AMT, where an amount of 100 produces no change.

A weight entered next to Invert will cause the value of some controller everts to be mapped with respect to its possible range: CC events and AT events will invert around a center value of 64, while PB events will invert around a center value of 0.

The Delete parameter will replace controller events of the selected type with DE events.

A Swap operation will choose two controller events and copy the value of each to the other.

A Copy operation will copy the value of one event to another.

The musical effect of Vary Controllers presets will depend entirely on what your synthesizer is equipped to do when it receives MIDI controller data.

With an instrument like the Oberheim Xpander, which offers a wide variety of MIDI modulation routings, you could insert some controller messages for various controllers at the start of every note using an Add Controllers preset, and then vary the values of these from note to note to produce some highly variable note shapes.

The same type of thing can be done on a slightly more restrained scale with Yamaha DX instruments, by using controllers 1 (mod wheel), 2 (breath controller), and -1 (after-touch), and programming some patches to respond to these inputs in different ways.
