# Chapter 18 - Master Editor

[[toc]]

When you click on Master Edit, in the first column of the edit options section of the KCS edit screen, you will enter the Master Editor.

The Master Editor allows you to edit the current sequence in a number of ways. There are six "pages" within the Master Editor. To move from one page to another, simply click on an item in the menu list in the upper right corner of any page.

Most of the operations in the Master Editor work just like those in the PVG and the rest of the KCS: You click on switches to highlight them and enter the values that you want, and then click on OK. If you click on CANCEL instead, you will be taken back to the edit screen and no change will be made in the current track or sequence.

If you're not clear how to use the Master Editor's controls, consult the KCS manual.

One important difference between the Master Editor and the PVG is that only one page of the Master Editor will have an effect during any given edit operation. There's no need to clear values in the other pages in order to avoid, for example, deflamming chords while blending a rhythm. Only the values that you can currently see will be used during the edit operation.

You can perform as many operations at once as you'd like, as long as they're on a single page.

## Edit Range

The first four pages of the Master Editor all have data fields for an edit range displayed at the top. This will default to All when you enter a new page, unless you have highlighted a range on the edit screen, in which case it will default to Event Range with the numbers of the events at the boundaries of the range loaded into the start point and end point data fields to the right of the highlighted button.

If you want to edit only a limited range rather than all events, you must click on the appropriate button (if it is not already highlighted) and then enter values in the start and end fields (unless the default values are the ones you want).

## Blend

The operations on the Blend page allow you to combine the data in the currently selected track or sequence with the contents of the Open mode sequence that is selected by the number to the right of the words REFERENCE SEQUENCE. This sequence is not affected by the operation, so the "blending" is not quite the same as what you'd get if you actually put the two sequences into a blender.

We will call the unaffected sequence selected on this line the reference sequence. The sequence that will be affected is, of course, the sequence that was on the edit screen when the Master Editor was entered. The blending can take place in various ways, depending on what options you select.

The most straightforward type of blending occurs when one or more of the Match buttons at the bottom of the screen are highlighted. Each button will replace the data in the current sequence with the indicated data in the reference sequence.

If you select several of the buttons, the current sequence will resemble the reference sequence more closely after the edit operation.

In a Match operation, the events are correlated on a one-to-one basis, as if the two sequences were printed out side by side in two columns on a sheet of paper, and the selected values were copied from the first column to the corresponding entry in the second column. If the reference sequence contains DE events (other than the final DE event, which is ignored except when matching rhythm), the Match operation will change the corresponding events in the current sequence to DE events. If other types of non-note events are present in the reference sequence, the result of the operation will be unpredictable.

If the reference sequence is shorter than the sequence being edited, the program will start over again at the top of the reference sequence when it reaches the bottom. This fact is extremely useful if you want a short repetitive pattern to be created by the edit. For example, if you have a monophonic line in the current sequence, and you want to edit it so that it will be played with a shuffle rhythm (such as a pattern of 14 clocks, 10 clocks, 14, 10, 14, 10, and so on), there's no need to create a reference sequence the same length as the sequence that you want to edit. Simply create a reference sequence with two notes in it, in the proper rhythm (in this case, times of 0 and 14 for the two notes, with a final DE event that has a time of 10).

The operations selected in the middle of the screen differ from the Match operations in that they correlate with the absolute times in the reference sequence rather than with the event number. For example, let's say that your reference sequence contains a monophonic C major scale in half-notes, starting on C, and that your current sequence contains a lot of sixteenth notes of various pitches. If you select one of the Pitch Follow options, all of the sixteenth notes within the first two beats of the current sequence will follow the first pitch (the C) in the reference sequence.

Auto-correct aligns the rhythmic values in the current sequence with those in the reference sequence - a much more flexible type of auto-correction than the standard type found in the KCS edit screen, which auto-corrects only to multiples of a single rhythmic value. Master Editor auto-correcting could be useful if you've improvised a free-flowing lead and would like selected notes within it to be accented by notes on a second track: There's no need to play the accent notes with perfect accuracy, or to haul out the calculator and edit them by hand. Simply hit them as closely as you can and then auto-correct using the Master Editor.

If a number is entered in the data field to the right of Maximum move, no auto-correction will be applied to an event if it would have to be moved farther than this value.

If you click on Delete if > max, the program will delete all of the notes that are too far off to auto- correct (depending on the Maximum move value you have entered) by replacing them with DE events.

When the Delete only button is highlighted along with the Auto-correct and Delete if > max buttons, the program will delete any notes that are too far away to auto-correct, but it will not actually perform the auto- correction on the notes that remain. This is a way of deleting any notes on a track that fall further than a certain time limit from notes on the reference track. If the reference track contains whole-notes in 4/4, only the notes on the current track that are clustered around the downbeats will remain after the Delete only operation. (The width of the cluster will depend on the Maximum move parameter.) If an option in the Pitch Follow row is selected, the pitches in the current sequence will be edited with reference to the pitches in the reference sequence. Likewise, if a Velocity Follow option is selected, velocities will be edited with reference to velocities. The Velocity Follow Pitch selections will cause the velocities in the current sequence to be edited with reference to the pitches in the reference sequence: Note number 24 (Cl) will be considered equivalent to a velocity of 24, and so on. To the right of each of the follow options is a series of radio buttons. (Like the buttons on a car radio, only one will be active at a time.) Set will replace the values in the current sequence with those in the reference sequence. Mix will produce an average of the two values. Transpose will fignre out how far the values in the reference sequence are from Middle C (C4 - MIDI note 60) or a velocity of 64, and will move the values in the current sequence up or down by this same amount. Reverse will do an upside-down transpose operation, in which the values in the current sequence will be moved up if those in the reference sequence are below the median point, and vice-versa. The Auto-correct feature can be used (possibly along with Velocity Follow) to create complex syncopated patterns. If we set up a reference sequence it two notes and times of 0 and 7, with S for the fmal DE event, and autocorrect to it we will be autocorrectmg to sixteenth notes, but each pair of sixteenth notes will be "swung" within its eighth note. If the two notes m the reference sequence have different velocities, we can accent either sixteenth note within an eighth note relative to the other. A reference sequence with six 12's followed by twenty-four 1's in the TIME column would autocorrect the first three beats of a measure to eighth notes, while leaving the last measure unaltered. Figure 17 (Original PVG docs page 103) Master Editor setting to Auto-Correct the current aequence to the rhylhm pattern of sequence 1. Each note's velocity will he averaged with the velocity of the corresponding note in sequence 1. Notes more than 12 time steps away from a "hit" will be deleted. Chords Operations on this page will be applied only to chords (that is, stacks of events in which all but the first event has a time of 0) within the sequence, and ignore all other notes. But what if you've played some chords a little sloppily, so that some of the times are 1 or 2 rather than 0? In order for the program to know that you meant this as a chord, you should begin the edit by entering a value under Deflam. The program will look for events that are within this number of clocks of the first event in each chord, and will move these events backward so that their time is 0. (The time of the next event will be adjusted to compensate.) The deflam value must be smaller than the time between pairs of events that you don't want turned into rhythmic unisons. A flam, incidentally, is a type of drum hit in which both sticks hit the same drum at nearly, but not quite, the same moment. So deflamming means aligning events to exactly the same time value. A Deflam operation looks forward only from the first event in the chord, or from the first of the events that it is aligning so that they will become a chord. It does not look forward from subsequent events that are being deflammed. To see how this works, enter a series of eight or ten notes that are separated by 1 clock step, and enter a deflam value of 3. If each event were deflammed with reference to any preceding event, all of the events in your test sequence would stack up into a single chord. You will find, however, that the Deflam operation produces a group of four- note chords, each of which is separated by 4 steps (one greater than the largest length of time allowed by the deflam value). Arpeg (arpeggiation) is used to spread the notes in a chord out across time. Instead of having times of 0, each note will have the time value entered under Arpeg. Any notes that the arpeggiation operation would move past the next event in the sequence will be replaced by DE events. The options under Sort allow you to change the order of the notes in a chord by pitch. Ascending and Descending do exactly what you would expect. The highest or lowest note in a chord is the first event, and the others follow in order. Asc skip (ascending skip) and Desc skip (descending skip) produce an ascending or descending order in which every other note is skipped until the other extreme is reached, after which the skipping process moves back toward where it started, picking up the notes it skipped the first time. For example, if a chord consists of the notes A, B, C, D, E, F, and G, an ascending skip operation will order them A, C, E, G, F, D, B, while a descending skip will order them G, E, C, A, B, D, F. Sorting operations are often helpful prior to arpeggiation. Sorting insures that the elements of the arpeggio will be in the same order for each chord. The two columns to the right of Sort are used for editing the velocity and duration of notes within a chord. To set all values to a fixed level, click on Fix and enter the value you want. Selecting Maximum, Average, or Minimum, will set all the velocities or durations within each single chord to be equal to the highest or lowest value, or to an average of the values. The comparing and averaging operations are done for only one chord at a time, so if you play a short chord and a long chord in the same sequence and ask for duration averaging, the short chord will still be short and the long chord will still be long. The fields under Orchestration are used to set the MIDI channel of chord notes with reference to the position (the numerical order of the events in the event list) of the notes in the chord. Again, using a Sort operation before changing the channels will cause the chords in a passage to have a more unified sound: Each element in a chord will always go to the same MIDI channel. And as with other chord operations, non-chord notes in the sequence will not be affected by the Orchestration operation. Figure 18 (Original PVG docs pg. 106) Setting to deflam all chords with a width of 6 time steps or less. The velocity and duration of each chord will be aet to the average of the notes within it. chords will be sorted in ascending ordcr, and the first two notes of each chord will be placed on channel 3. Controllers This page allows you to perform several useful operations to the non-note MIDI events recorded by the KCS. The type of event to be operated on is selected in the column on the left. If you are editing continuous controllers (CC events), you must specify the number of the controller in the data fields to the right of the words Control Changes. Three operations can be performed on the non-note events. Split copies them to the next available empty sequence, and erases them from the current sequence. Erase erases them without copying them (and, obviously, without affecting any other type of data in the sequence). Thin is a more complex operation which operates somewhat like running a comb through the selected data type, removing some of the events (corresponding to the teeth of the comb) while leaving others (the gaps between the teeth) untouched. Thinning cannot be executed with program changes or polyphonic key pressure. The number entered under Fraction Kept determines how much thinning is done. If the Fraction Kept value is 2, then 1/2 of the events will be kept; if it is 3, then 1/3 will be kept; if it is 4, then 1/4 will be kept; and so on. The last controller event before a note event will not be erased, nor will a zero value or a minimum or maximum pitch-bend value. If a controller event is more than the Maximum Time value away from the previous event of that type, it will not be thinned. The thinning operation will not work correctly in a multi-channel sequence. Thinning can be useful when a track is so full of control changes that the MIDI data output is being slowed down. It is often possible to thin the data by a factor of 2 or more without introducing any audible change in the expressivity of the performance. Larger thinning values could be used for special effects, such as introducing some irregular microtonal staircasing into a pitch-bend. (For best results with this effect, try a wide pitch-bend range setting on the synthesizer.) Tempo Changes The options on this page allow TM (tempo) events to be erased or scaled up or down by a percentage. When Scale is selected, the number to its right is the percentage by which all TM values are multiplied (100 = no change). If you have entered AC (accelerando) or DC (decelerando) events into a track, you can use the Convert AC/Dc Events button to change these events into TM events - in other words, to give them absolute rather than relative tempo values. The conversion is not reversible. Converting to TM events could be useful if your song has a number of tempo changes that you have entered with AC and DC events, and you find that all of the sections are now at the tempo you want except for one in the middle. Changing the AC or DC event at the start of this section will change the tempo of all subsequent sections as well, because AC and DC tempos are computed as a percentage of whatever the current tempo happens to be. When the AC/DC events are converted to TM events, you can edit one TM event without affecting later ones. Track Utilities This page is a convenient shortcut for making some basic changes in the shape of an entfre arrangement. As the screen cautions, changes made here will affect all tracks, and cannot be undone with the undo command. The Track Utilities page will have no effect on sequences in Open mode - but if you have material in memory in both Track mode and Open mode, be careful! Doing an Erase, Delete, or Insert on this page while you are working in Open mode will affect the material in the Track mode area. The Delete range and Erase range commands use the same terminology as the rest of the KCS: Deleting a range will cause it to be closed up, so that events after the range will be earlier. Erasing a range will leave a gap: The times of subsequent events will not be affected, because a time value the same length as the gap will be added to the next event on each track. The boundaries of the range to be erased or deleted must be entered under range start and range end. Insert space creates a new blank spot on all tracks, beginning at the time entered under Range start and lasting for the number of measures and steps entered under Insert amount. A time value equal to the size of the gap will be added to the event on each track that falls next after the beginning of the gap. Inserting a space can be useful if you have recorded a verse on several tracks and later want to go back and scissor in an intro, or if you have recorded a verse and chorus and then find that you need an extra bar between the two. Likewise, deleting a range from all tracks will tighten up an arrangement that has extra bars in it. Pitch Map The Pitch Map page is used for; changing all occurrences of any MIDI note in a sequence into any other MIDI note. This would be useful, for example, if a drum track had been recorded into the sequencer to be played by one drum machine, and it was later desired to fire a different drum machine, one that assigned its sounds to different MIDI notes, from the same track. In addition to remapping pitches, the pitch map allows you to assign new velocities and MIDI channels to the notes, or to erase selected notes. While MIDI defines 128 notes, the pitch map can be used to edit only 88 notes, from Co (note 12) through D#7 (note 99). If you should need to use pitch mapping to edit notes that fall outside this range, simply begin by transposing the entire sequence into the allowed range. The possible target pitches for remapping extend up through G9 (note 127). If for some reason you should need to remap to MIDI notes 1 through 11, you can do a remapping to the next octave above the target pitches, and then transpose the sequence down globally after remapping. The white note names to the left of the columns serve to mark the original pitches that the data fields will alter. If you like, you can imagine entire columns of white pitch names - Co, C#O, Do, D#O, and so on. Only the Cs and Ps are displayed in order to increase visual clarity. The white note names (including the invisible ones) are the original notes that will be altered. The green note names are the targets: the notes that will be produced by the mapping operation. Initially the pitch map defaults to a mapping of every pitch onto itself. To the right of the pitch names are two columns, one for velocity and one for MIDI channel. The meaning of the entry in the velocity column depends on which flag is highlighted in the column at right, beneath the word VELOCITY. If Set is highlighted, the velocity value of each note in the sequence will be set to the velocity value indicated. If a velocity field is set to 0, the velocity of that note won't be changed. If Mix is highlighted, the program will generate an average of the current velocity value and the velocity value shown in the pitch map. And if Transpose is highlighted, the program will compute the difference between the velocity shown in the pitch map and a center value of 64, and add or subtract this value from the note(s) in the sequence. For example, if a note's current velocity is %, and a value of 50 is entered in the velocity column for that note, the velocity produced will be 82, because 50-64 = -14, and 96 + -14 = 82. The right data field in each column is used to set the MIDI channeL This operation will only take place if Channels/Deletcs is highlighted. Leaving the field blank will cause the channel(s) of notes with that pitch to be unchanged. Entering a channel of 0 will cause notes with that pitch to be deleted from the sequence. If the Recursive button is highlighted, the pitch map will be applied to the original sequence and the result appended to that sequence. The process will be repeated for the number of times specified by the value to the right of this switch. This feature was added to make it easier to create the musical equivalent of Mandelbrot drawings, as discussed in the Preface. The Load and Save buttons on the Pitch Map screen are used to access .VRY files, which store the pitch map in addition to the presets and macros The COPY button is used to map the current sequence onto the pitch map. Each note in the sequence replaces the following note in the sequence, in the pitch map. For example, if you copy a three note sequence C4, E4, F5 into the pitch map, the E4 slot in the pitch map will be filled with C4, E4 will be placed in the F5 position, and F5 will replace the value in the C4 location. No other notes in the pitch map will be changed. Pitch mapping can be useful for altering notes that are wrong for the harmonic context of the sequence, or for changing from one melodic mode to another. These edit operations can also be performed using global presets in the Programmable Variations Generator. The difference is that the PVG will always treat notes with the same letter name as identical, no matter what octave they are in. Pitch mapping allows you to treat each octave in its own way. You could also use pitch mapping very conveniently when composing music for a microtonal synthesizer. A piece could be recorded initially from a standard keyboard in standard 12-tones-per-octave tuning, and then could be remapped so that the MIDI notes play the correct "keys" of the microtonal instrument. Figure 19 (Original PVG docs page 111) Pitch Map setting to exchange all Es and Fs, delete all sharps, and add 32 to the velocity of all Cs